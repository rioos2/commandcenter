{{admin-infra/storage-pool-add pools=storagespool connector=storageData storages=storages modelSpinner=modelSpinner doReload="doReload"}}

<div class="col-sm-9 content-left">
	<div class="panel panel-default kv-panel">
		<div class="panel-heading">
			<div class="panel-header">
				{{t 'stackPage.admin.storage.connected'}} ({{availableSize}})
			</div>
		</div>
		<div class="panel-body">
			{{#if modelSpinner}}
			<div class="spinner infra-spinner">
			{{stack-launch-spinner size=25 showSpinner=true}}
			</div>
			{{else}}
			{{#if storageAvailable}}
				<div class="storage-container">
					{{#each storages as |storage|}}
						{{admin-infra/storage-detail model=storage storagespool=storagespool selectedStorage=selectedStorage storageData=storageData click=(action "SideData" storage) }}
					{{/each}}
				</div>
			{{else}}
				<div class="empty-storage">
					<div class="pin-img">
						<img src="./images/admin/3pin.PNG" class="img-responsive" alt="pin">
					</div>
					<div class="empty-storage-add-link">
						<span>{{t 'stackPage.admin.storage.noStorage'}}</span>
					</div>
				</div>
				{{/if}}
			{{/if}}
		</div>
	</div>
</div>
<div class="col-sm-3 content-right">
	{{admin-infra/storage-side model=storageData storagespool=storagespool doReload="doReload" modelSpinner=modelSpinner}}
</div>
